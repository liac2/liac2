{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Active Listings</h2>

    <div class="container">
        <div class="parent">
            {% for listing in listings %}
            <a href="{% url 'index' %}{{ listing.user_id }}/{{ listing.id }}" class="card" target="_blank">
            <!-- <div class="card"> -->
                {% if listing.url %}
                    <img src="{{ listing.url }}" class="card-img-top" alt="Listing image">
                {% else %}
                    <img src="https://img.freepik.com/free-photo/simple-product-backdrop-with-shadow_53876-104160.jpg" class="card-img-top" alt="Default image">
                {% endif %}
                <div class="card-body">
                <h5 class="card-title"> {{ listing.title }}</h5>
                <p class="card-text"> {{ listing.description }} </p>
                </div>
                <ul class="list-group list-group-flush">
                    <!-- TODO: actual, current price of bid -->
                    <li class="list-group-item">Starting Bid: {{ listing.starting_bid }}</li>
                </ul>
                <div class="card-footer">
                    {{ listing.get_category_display }}
                </div>
            <!-- </div> -->

            </a>
            {% empty %}
                <p>No Listings</p>
            {% endfor %}
        </div>

    </div>
    
{% endblock %}